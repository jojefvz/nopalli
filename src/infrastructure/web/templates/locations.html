{% extends "base.html" %}

{% block main_css %}
<link rel="stylesheet" href="{{ url_for('static', filename='locations.css') }}">
{% endblock %}

{% block content %}
  <div class="container">
    <div class="container-subheading">
      <h2>Locations</h2>
      <button class="new-location-btn" id="open">New Location</button>
    </div>

    <div class="modal" id="modal">
      <div class="modal-backdrop"></div>
      <div class="modal-body">
        <button class="modal-close" id="close">close</button>
        <h2>Add New Location</h2>
        <form action="{{ url_for('location.new_location') }}" method="post">
          <p>
            <label for="name">Location Name</label>
            <input type="text" id="name" name="name" required>
          </p>
          <p>
            <label for="street_address">Street Address</label>
            <input type="text" id="street_address" name="street_address" required>
          </p>
          <p>
            <label for="city">City</label>
            <input type="text" id="city" name="city" required>
          </p>
          <p>
            <label for="state">State</label>
            <input type="text" id="state" name="state" required>
          </p>
          <p>
            <label for="zipcode">Zipcode</label>
            <input type="text" id="zipcode" name="zipcode" required>
          </p>
          <p><button type="submit" class="modal-submit">Submit</button></p>
        </form>
      </div>
    </div>

    <div class="locations-list-container">
      {% for location in locations %}
        {% include '_location.html' %}
      {% endfor %}
    </div>
  </div>

  <script type="text/javascript">
    var button = document.getElementById('open');
    var close = document.getElementById('close');
    var modal = document.getElementById('modal');

    button.addEventListener('click', function (event) {
      event.preventDefault();
      modal.style.display = 'block';
    });

    close.addEventListener('click', function (event) {
      event.preventDefault();
      modal.style.display = 'none';
    });
</script>
{% endblock %}